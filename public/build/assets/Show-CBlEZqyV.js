import{r as t,u as W,j as e,H as xe,L as d,a as h,b as G}from"./app-CQdR452s.js";import{A as me,F as A}from"./AuthenticatedLayout-HhmBnaNo.js";import{B as p,A as j,C as o,d as he,P as pe,a as ye}from"./ProgressBar-CmNWRyn6.js";import{c as N}from"./clsx-B-dksMZM.js";import{T as fe}from"./ThemeToggle-C9625XrB.js";import{E as ue}from"./EmptyState-Cyh_ihlv.js";import{S as $}from"./StatCard-B-cWyVmN.js";import{C as ge,a as je,b as be}from"./club-PCsiz4C8.js";import{F as H}from"./LockClosedIcon-judJ0exY.js";import{F as w,c as Ne}from"./UserGroupIcon-CBBpCl-6.js";import{F as P}from"./CameraIcon-CfVEeyGL.js";import{F as we}from"./CheckBadgeIcon-DlBI_QHP.js";import{F as Z}from"./SparklesIcon-B2_IIVCR.js";import{F as v}from"./MapPinIcon-aMovNZRX.js";import{F as ve}from"./HeartIcon-BskkHzZm.js";import{F as ke}from"./HeartIcon-BuneMuyE.js";import{F as _e}from"./PencilIcon-B5N8ZZFg.js";import{F as M}from"./ClockIcon-fa_Gy2Ss.js";import{F as Q}from"./PhotoIcon-vqosI-5a.js";import{F as X}from"./BoltIcon-oLlq6s7d.js";import{F as Y}from"./TrashIcon-o4tWhs-E.js";import{F as Ce}from"./DocumentTextIcon-DMZyM2rq.js";import{F as ee}from"./WrenchScrewdriverIcon-BpEb2G6O.js";import{F as Fe}from"./StarIcon-C0SjB6xj.js";import{F as z}from"./CalendarDaysIcon-D42YAsvN.js";import{F as Re}from"./LinkIcon-BKf-SMfB.js";import{F as Ae}from"./ChatBubbleLeftRightIcon-Cykj2dM4.js";import"./transition-fQBJqPoi.js";import"./use-sync-refs-TvPC7Lcg.js";import"./Footer-C1bh1EIQ.js";import"./ShieldCheckIcon-DI5QGzMO.js";import"./ExclamationTriangleIcon-Yz6WaA5o.js";import"./CheckCircleIcon-CrWjMXvP.js";import"./PrimaryButton-B4a49jWx.js";function $e({title:a,titleId:r,...c},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},c),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Le=t.forwardRef($e);function De({title:a,titleId:r,...c},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},c),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const se=t.forwardRef(De);function Ee({title:a,titleId:r,...c},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},c),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Pe=t.forwardRef(Ee);function Me({children:a}){return e.jsxs("div",{className:"min-h-screen bg-secondary-50 dark:bg-secondary-900 transition-colors duration-200",children:[e.jsx("header",{className:"sticky top-0 z-30 h-16 bg-white/95 dark:bg-secondary-800/95 backdrop-blur-lg border-b border-secondary-200 dark:border-secondary-700",children:e.jsxs("div",{className:"flex h-full items-center justify-between px-4 lg:px-6 max-w-7xl mx-auto",children:[e.jsxs(d,{href:"/",className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-primary-600",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"RK"})}),e.jsx("span",{className:"font-bold text-lg text-secondary-900 dark:text-white",children:"REV KONEK"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(fe,{}),e.jsx(d,{href:route("login"),className:"px-4 py-2 text-sm font-semibold text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Log in"}),e.jsx(d,{href:route("register"),className:"px-4 py-2 text-sm font-semibold text-white bg-primary-600 hover:bg-primary-500 rounded-lg transition-colors",children:"Sign up"})]})]})}),e.jsx("main",{children:a})]})}function js({club:a,membership:r,isFollowing:c,isGuest:n=!1,pendingRequest:ae=!1,posts:S,upcomingEvents:O,recentMembers:_,photos:C,garageVehicles:L=[],garageStats:i={totalVehicles:0,totalCC:0,avgCC:0,categoryBreakdown:{}},memberPoints:T=[]}){const[b,D]=t.useState("feed"),[Se,te]=t.useState(!1),[B,F]=t.useState(null),[k,U]=t.useState("All"),R=!!r,re=r?ge[r.role]:99,y=r&&re<=2,E=r&&r.role!=="member",V=t.useRef(null),q=t.useRef(null),f=W({content:"",visibility:"public"});W({photos:[]});const I=t.useRef(null),ne=s=>{s.preventDefault(),f.post(route("clubs.posts.store",a.slug),{onSuccess:()=>f.reset()})},oe=s=>{const l=s.target.files?.[0];if(!l)return;const x=new FormData;x.append("cover_image",l),h.post(route("clubs.updateCoverImage",a.slug),x,{forceFormData:!0,onError:m=>{const g=Object.values(m).flat().join(" ");alert(g||"Failed to upload cover photo.")}}),s.target.value=""},ie=s=>{const l=s.target.files?.[0];if(!l)return;const x=new FormData;x.append("avatar",l),h.post(route("clubs.updateAvatar",a.slug),x,{forceFormData:!0,onError:m=>{const g=Object.values(m).flat().join(" ");alert(g||"Failed to upload logo.")}}),s.target.value=""},le=s=>{const l=s.target.files;if(!l||l.length===0)return;const x=new FormData;Array.from(l).forEach(m=>x.append("photos[]",m)),h.post(route("clubs.photos.store",a.slug),x,{forceFormData:!0,onSuccess:()=>te(!1)})},J={public:{icon:Pe,label:"Public Club",desc:a.requires_approval?"Anyone can see â€¢ Approval required to join":"Anyone can see and join"},private:{icon:H,label:"Private Club",desc:"Must request to join"},secret:{icon:Le,label:"Secret Club",desc:"Invite only"}},u=J[a.type]||J.public,K=t.useMemo(()=>k==="All"?L:L.filter(s=>(s.category?.name??"Other")===k),[L,k]),de=[{key:"feed",label:"Posts",count:a.posts_count},{key:"garage",label:"Garage",count:i.totalVehicles||void 0},{key:"events",label:"Events",count:a.events_count},{key:"members",label:"Members",count:a.members_count},{key:"photos",label:"Photos",count:a.photos_count},{key:"about",label:"About"}],ce=n?Me:me;return e.jsxs(ce,{children:[e.jsx(xe,{title:a.name}),e.jsxs("div",{className:n?"":"-mx-4 sm:-mx-6 lg:-mx-8 -mt-4 sm:-mt-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"h-48 sm:h-64 md:h-80 w-full overflow-visible bg-gradient-to-br from-primary-600 via-primary-700 to-primary-900",children:[e.jsx("div",{className:"h-full w-full overflow-hidden",children:a.cover_image?e.jsx("img",{src:a.cover_image,alt:`${a.name} cover`,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(w,{className:"h-16 w-16 text-white/20 mx-auto"}),y&&e.jsx("p",{className:"text-white/40 text-sm mt-2",children:"Add a cover photo"})]})})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]}),y&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>V.current?.click(),className:N("absolute inset-0 bottom-0 flex items-center justify-center","opacity-0 group-hover:opacity-100 transition-all"),children:e.jsxs("span",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-black/50 hover:bg-black/70 text-white text-sm font-medium backdrop-blur-sm",children:[e.jsx(P,{className:"h-4 w-4"}),a.cover_image?"Edit Cover":"Add Cover Photo"]})}),e.jsx("input",{ref:V,type:"file",accept:"image/*",className:"hidden",onChange:oe})]}),e.jsxs("div",{className:"absolute -bottom-6 sm:-bottom-8 left-4 sm:left-6 lg:left-[calc((100%-64rem)/2+1.5rem)] z-20 group/avatar",children:[e.jsx("div",{className:"w-20 h-20 sm:w-28 sm:h-28 rounded-2xl border-4 border-white dark:border-secondary-800 shadow-lg overflow-hidden bg-white dark:bg-secondary-700",children:a.avatar?e.jsx("img",{src:a.avatar,alt:a.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-white",children:a.name.charAt(0).toUpperCase()})})}),y&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>q.current?.click(),className:N("absolute inset-0 rounded-2xl flex items-center justify-center","bg-black/40 text-white transition-opacity","opacity-0 group-hover/avatar:opacity-100"),children:e.jsx(P,{className:"h-6 w-6"})}),e.jsx("input",{ref:q,type:"file",accept:"image/*",className:"hidden",onChange:ie})]})]})]}),e.jsx("div",{className:"relative bg-white dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700 pt-10 sm:pt-12",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-4 pb-4",children:[e.jsxs("div",{className:"flex-1 min-w-0 pb-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-secondary-900 dark:text-white",children:a.name}),a.is_verified&&e.jsx(we,{className:"h-6 w-6 text-primary-500 flex-shrink-0"}),a.is_premium&&e.jsxs(p,{variant:"warning",size:"sm",children:[e.jsx(Z,{className:"h-3 w-3 -ml-0.5"}),"PRO"]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-secondary-500 dark:text-secondary-400 flex-wrap",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(u.icon,{className:"h-4 w-4"}),u.label]}),a.city&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(v,{className:"h-4 w-4"}),a.city,a.province?`, ${a.province}`:""]})]})]}),e.jsx("div",{className:"flex items-center gap-2 flex-shrink-0 pb-1",children:n?e.jsx(d,{href:route("login"),className:"px-5 py-2.5 bg-primary-600 hover:bg-primary-500 text-white rounded-xl font-semibold text-sm transition-colors shadow-sm",children:"Log in to Join"}):R?e.jsxs(e.Fragment,{children:[y&&e.jsxs(d,{href:route("clubs.edit",a.slug),className:"px-4 py-2.5 bg-white border border-secondary-300 text-secondary-700 dark:bg-secondary-700 dark:border-secondary-600 dark:text-secondary-300 rounded-xl font-semibold text-sm transition-colors hover:bg-secondary-50 dark:hover:bg-secondary-600 flex items-center gap-1.5 shadow-sm",children:[e.jsx(_e,{className:"h-4 w-4"}),"Edit"]}),y&&e.jsxs(d,{href:route("clubs.settings",a.slug),className:"px-4 py-2.5 bg-white border border-secondary-300 text-secondary-700 dark:bg-secondary-700 dark:border-secondary-600 dark:text-secondary-300 rounded-xl font-semibold text-sm transition-colors hover:bg-secondary-50 dark:hover:bg-secondary-600 flex items-center gap-1.5 shadow-sm",children:[e.jsx(Ne,{className:"h-4 w-4"}),"Settings"]}),e.jsx("button",{onClick:()=>h.post(route("clubs.leave",a.slug)),className:"px-4 py-2.5 border border-secondary-300 dark:border-secondary-600 text-secondary-500 dark:text-secondary-400 rounded-xl text-sm transition-colors hover:bg-secondary-50 dark:hover:bg-secondary-700",children:"Leave"})]}):e.jsxs(e.Fragment,{children:[ae?e.jsx("button",{disabled:!0,className:"px-5 py-2.5 bg-secondary-400 text-white rounded-xl font-semibold text-sm cursor-not-allowed shadow-sm",children:"Request Pending"}):e.jsx("button",{onClick:()=>h.post(route("clubs.join",a.slug)),className:"px-5 py-2.5 bg-primary-600 hover:bg-primary-500 text-white rounded-xl font-semibold text-sm transition-colors shadow-sm",children:a.type==="private"||a.requires_approval?"Request to Join":"Join Club"}),e.jsx("button",{onClick:()=>h.post(route(c?"clubs.unfollow":"clubs.follow",a.slug)),className:N("px-4 py-2.5 rounded-xl font-semibold text-sm transition-colors border shadow-sm",c?"bg-primary-50 border-primary-200 text-primary-600 dark:bg-primary-900/20 dark:border-primary-800 dark:text-primary-400":"bg-white border-secondary-300 text-secondary-700 hover:bg-secondary-50 dark:bg-secondary-700 dark:border-secondary-600 dark:text-secondary-300"),children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[c?e.jsx(ve,{className:"h-4 w-4 text-primary-500"}):e.jsx(ke,{className:"h-4 w-4"}),c?"Following":"Follow"]})})]})})]}),e.jsxs("div",{className:"flex items-center gap-6 py-3 border-t border-secondary-100 dark:border-secondary-700 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"font-bold text-secondary-900 dark:text-white",children:a.members_count??0}),e.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Members"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"font-bold text-secondary-900 dark:text-white",children:a.followers_count??0}),e.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Followers"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"font-bold text-secondary-900 dark:text-white",children:a.posts_count??0}),e.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Posts"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"font-bold text-secondary-900 dark:text-white",children:a.events_count??0}),e.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Events"})]}),_.length>0&&e.jsxs("div",{className:"hidden sm:flex items-center gap-1 ml-auto",children:[e.jsx("div",{className:"flex -space-x-2",children:_.slice(0,5).map(s=>e.jsx(j,{src:s.user?.avatar,name:s.user?.display_name,size:"xs",rounded:"full"},s.id))}),(a.members_count??0)>5&&e.jsxs("span",{className:"text-xs text-secondary-400 ml-1",children:["+",(a.members_count??0)-5]})]})]}),e.jsx("div",{className:"flex gap-0 -mb-px overflow-x-auto scrollbar-none",children:de.map(s=>e.jsxs("button",{onClick:()=>D(s.key),className:N("px-4 py-3 text-sm font-semibold border-b-2 transition-colors whitespace-nowrap",b===s.key?"border-primary-600 text-primary-600 dark:text-primary-400 dark:border-primary-400":"border-transparent text-secondary-500 dark:text-secondary-400 hover:text-secondary-700 dark:hover:text-secondary-300 hover:border-secondary-300"),children:[s.label,s.count!==void 0&&s.count>0&&e.jsx("span",{className:"ml-1.5 text-xs text-secondary-400 font-normal",children:s.count})]},s.key))})]})}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-6",children:[b==="feed"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-4 lg:col-span-1 order-2 lg:order-1",children:[e.jsxs(o,{padding:"lg",children:[e.jsxs("h3",{className:"font-semibold text-secondary-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5 text-secondary-400"}),"About"]}),a.description?e.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 leading-relaxed",children:a.description}):e.jsx("p",{className:"text-sm text-secondary-400 italic",children:"No description yet."}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(u.icon,{className:"h-4 w-4 text-secondary-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-secondary-700 dark:text-secondary-300 font-medium",children:u.label}),e.jsx("span",{className:"text-secondary-400 block text-xs",children:u.desc})]})]}),a.city&&e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(v,{className:"h-4 w-4 text-secondary-400 flex-shrink-0"}),e.jsxs("span",{className:"text-secondary-700 dark:text-secondary-300",children:[a.city,a.province?`, ${a.province}`:""]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(M,{className:"h-4 w-4 text-secondary-400 flex-shrink-0"}),e.jsxs("span",{className:"text-secondary-700 dark:text-secondary-300",children:["Created ",new Date(a.created_at).toLocaleDateString("en",{month:"long",year:"numeric"})]})]}),a.owner&&e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(w,{className:"h-4 w-4 text-secondary-400 flex-shrink-0"}),e.jsxs("span",{className:"text-secondary-700 dark:text-secondary-300",children:["Founded by ",e.jsx("strong",{children:a.owner.display_name})]})]})]})]}),C.length>0&&e.jsxs(o,{padding:"lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"font-semibold text-secondary-900 dark:text-white flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5 text-secondary-400"}),"Photos"]}),e.jsx("button",{onClick:()=>D("photos"),className:"text-xs text-primary-600 dark:text-primary-400 hover:underline",children:"See All"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-1.5 rounded-lg overflow-hidden",children:C.slice(0,6).map(s=>e.jsx("button",{onClick:()=>F(s.path),className:"aspect-square overflow-hidden hover:opacity-80 transition-opacity",children:e.jsx("img",{src:s.path,alt:s.caption||"",className:"w-full h-full object-cover"})},s.id))})]}),e.jsxs(o,{padding:"lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"font-semibold text-secondary-900 dark:text-white flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5 text-secondary-400"}),"Members",e.jsx("span",{className:"text-xs text-secondary-400 font-normal",children:a.members_count??0})]}),e.jsx("button",{onClick:()=>D("members"),className:"text-xs text-primary-600 dark:text-primary-400 hover:underline",children:"See All"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:_.slice(0,8).map(s=>e.jsxs(d,{href:s.user?.uuid?route("profile.show",s.user.uuid):"#",className:"text-center hover:opacity-80 transition-opacity",children:[e.jsx(j,{src:s.user?.avatar,name:s.user?.display_name,size:"md",rounded:"lg"}),e.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mt-1 truncate",children:s.user?.display_name?.split(" ")[0]})]},s.id))})]}),i.totalVehicles>0&&e.jsxs(o,{padding:"lg",children:[e.jsxs("h3",{className:"font-semibold text-secondary-900 dark:text-white flex items-center gap-2 mb-3",children:[e.jsx(X,{className:"h-5 w-5 text-secondary-400"}),"Club Stats"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Total Fleet Power"}),e.jsxs("span",{className:"font-semibold text-secondary-900 dark:text-white",children:[i.totalCC.toLocaleString(),"cc"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Fleet Size"}),e.jsxs("span",{className:"font-semibold text-secondary-900 dark:text-white",children:[i.totalVehicles," vehicles"]})]}),i.topCategory&&e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Top Category"}),e.jsx(p,{variant:"primary",size:"sm",children:i.topCategory})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Avg Engine"}),e.jsxs("span",{className:"font-semibold text-secondary-900 dark:text-white",children:[i.avgCC,"cc"]})]})]})]}),T.length>0&&e.jsxs(o,{padding:"lg",children:[e.jsxs("h3",{className:"font-semibold text-secondary-900 dark:text-white flex items-center gap-2 mb-3",children:[e.jsx(se,{className:"h-5 w-5 text-accent-500"}),"Most Active"]}),e.jsx("div",{className:"space-y-3",children:T.map(s=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{src:s.avatar,name:s.name,size:"sm"}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-secondary-900 dark:text-white truncate",children:s.name})}),e.jsxs("span",{className:"text-xs text-accent-500 font-semibold",children:[s.points," pts"]})]},s.id))})]})]}),e.jsxs("div",{className:"space-y-4 lg:col-span-2 order-1 lg:order-2",children:[!n&&R&&e.jsx(o,{padding:"lg",children:e.jsxs("form",{onSubmit:ne,children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(j,{src:G().props.auth?.user?.avatar,name:G().props.auth?.user?.display_name,size:"md"}),e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{value:f.data.content,onChange:s=>f.setData("content",s.target.value),rows:3,className:"w-full rounded-xl border-secondary-200 dark:border-secondary-600 dark:bg-secondary-700 dark:text-white focus:ring-primary-500 focus:border-primary-500 resize-none text-sm placeholder:text-secondary-400",placeholder:"Share something with the club..."})})]}),e.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-secondary-100 dark:border-secondary-700",children:[a.is_premium&&e.jsxs("select",{value:f.data.visibility,onChange:s=>f.setData("visibility",s.target.value),className:"text-sm rounded-lg border-secondary-200 dark:border-secondary-600 dark:bg-secondary-700 dark:text-white py-1.5",children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"members_only",children:"Members Only"})]}),e.jsx("button",{type:"submit",disabled:f.processing||!f.data.content.trim(),className:"ml-auto px-5 py-2 bg-primary-600 hover:bg-primary-500 text-white rounded-xl text-sm font-semibold transition-colors disabled:opacity-50",children:"Post"})]})]})}),S.data.length>0?S.data.map(s=>e.jsx(o,{padding:"lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(j,{src:s.user?.avatar,name:s.user?.display_name,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"font-semibold text-secondary-900 dark:text-white text-sm",children:s.user?.display_name}),s.is_pinned&&e.jsx(p,{variant:"warning",size:"sm",children:"Pinned"}),s.is_announcement&&e.jsx(p,{variant:"primary",size:"sm",children:"Announcement"}),s.visibility==="members_only"&&e.jsxs(p,{variant:"secondary",size:"sm",children:[e.jsx(H,{className:"h-3 w-3"}),"Members"]})]}),e.jsx("span",{className:"text-xs text-secondary-400",children:ze(s.created_at)}),e.jsx("p",{className:"text-secondary-700 dark:text-secondary-300 mt-2 text-sm whitespace-pre-wrap leading-relaxed",children:s.content})]}),E&&e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.is_pinned?e.jsx("button",{onClick:()=>h.post(route("clubs.posts.unpin",[a.slug,s.id])),className:"p-1.5 text-accent-500 rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors",title:"Unpin post",children:e.jsx(v,{className:"h-4 w-4"})}):e.jsx("button",{onClick:()=>h.post(route("clubs.posts.pin",[a.slug,s.id])),className:"p-1.5 text-secondary-400 hover:text-accent-500 rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors",title:"Pin post",children:e.jsx(v,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{confirm("Delete this post?")&&h.delete(route("clubs.posts.destroy",[a.slug,s.id]))},className:"p-1.5 text-secondary-400 hover:text-danger-500 rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors",title:"Delete post",children:e.jsx(Y,{className:"h-4 w-4"})})]})]})},s.id)):e.jsx(o,{padding:"lg",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ce,{className:"h-12 w-12 text-secondary-300 dark:text-secondary-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white",children:"No posts yet"}),e.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400 mt-1",children:R?"Be the first to share something!":"Join the club to start posting."})]})})]})]}),b==="garage"&&e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[e.jsx($,{title:"Total Vehicles",value:i.totalVehicles,icon:e.jsx(A,{className:"h-5 w-5"})}),e.jsx($,{title:"Combined CC",value:`${i.totalCC.toLocaleString()}cc`,icon:e.jsx(X,{className:"h-5 w-5"}),variant:"primary"}),e.jsx($,{title:"Avg Engine",value:`${i.avgCC}cc`,icon:e.jsx(ee,{className:"h-5 w-5"})}),e.jsx($,{title:"Top Category",value:i.topCategory??"N/A",icon:e.jsx(Fe,{className:"h-5 w-5"}),variant:"warning"})]}),Object.keys(i.categoryBreakdown).length>1&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>U("All"),className:N("px-3 py-1.5 rounded-full text-sm font-medium transition-colors",k==="All"?"bg-primary-600 text-white":"bg-secondary-100 dark:bg-secondary-700 text-secondary-600 dark:text-secondary-300 hover:bg-secondary-200 dark:hover:bg-secondary-600"),children:["All (",i.totalVehicles,")"]}),Object.entries(i.categoryBreakdown).map(([s,l])=>e.jsxs("button",{onClick:()=>U(s),className:N("px-3 py-1.5 rounded-full text-sm font-medium transition-colors",k===s?"bg-primary-600 text-white":"bg-secondary-100 dark:bg-secondary-700 text-secondary-600 dark:text-secondary-300 hover:bg-secondary-200 dark:hover:bg-secondary-600"),children:[s," (",l,")"]},s))]}),K.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:K.map(s=>e.jsxs(o,{padding:"none",className:"overflow-hidden",children:[e.jsx("div",{className:"aspect-[4/3] bg-secondary-100 dark:bg-secondary-700 relative",children:s.primary_photo?e.jsx("img",{src:`/storage/${s.primary_photo.path}`,alt:s.display_name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(A,{className:"h-10 w-10 text-secondary-300 dark:text-secondary-600"})})}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex flex-wrap gap-1 mb-1.5",children:[s.category&&e.jsx(p,{variant:"primary",size:"sm",children:s.category.name}),s.modification_level&&s.modification_level!=="stock"&&e.jsx(p,{variant:"warning",size:"sm",children:s.modification_level})]}),e.jsx("p",{className:"font-semibold text-sm text-secondary-900 dark:text-white truncate",children:s.display_name}),s.bike_details?.cc&&e.jsxs("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:[s.bike_details.cc,"cc"]}),s.user&&e.jsxs("div",{className:"flex items-center gap-1.5 mt-2 pt-2 border-t border-secondary-100 dark:border-secondary-700",children:[e.jsx(j,{name:s.user.name,size:"xs"}),e.jsx("span",{className:"text-xs text-secondary-500 dark:text-secondary-400 truncate",children:s.user.name})]})]})]},s.id))}):e.jsx(ue,{icon:e.jsx(A,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"}),title:"No vehicles in the club garage yet",description:"Members' active vehicles will appear here."})]}),b==="events"&&e.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[E&&e.jsxs(d,{href:route("clubs.events.create",a.slug),className:"flex items-center justify-center gap-2 py-3 bg-primary-600 hover:bg-primary-500 text-white rounded-xl font-semibold text-sm transition-colors",children:[e.jsx(z,{className:"h-5 w-5"}),"Create Event"]}),O.length>0?O.map(s=>{const l={ride:{variant:"primary",icon:A},meetup:{variant:"success",icon:w},track_day:{variant:"warning",icon:se},workshop:{variant:"info",icon:ee}}[s.type]??{variant:"secondary",icon:z},x=s.ends_at?(()=>{const g=Math.round((new Date(s.ends_at).getTime()-new Date(s.starts_at).getTime())/36e5);return g>0?`${g}h ${s.type==="ride"?"ride":"event"}`:null})():null,m=s.max_attendees&&s.rsvps_count!==void 0?s.max_attendees-s.rsvps_count:null;return e.jsx(d,{href:route("clubs.events.show",[a.slug,s.id]),children:e.jsx(o,{hoverable:!0,padding:"lg",className:"mb-3",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"flex-shrink-0 w-14 h-14 rounded-xl bg-primary-50 dark:bg-primary-900/30 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-xs font-bold text-primary-600 dark:text-primary-400 uppercase leading-none",children:new Date(s.starts_at).toLocaleDateString("en",{month:"short"})}),e.jsx("span",{className:"text-xl font-bold text-primary-600 dark:text-primary-400 leading-none",children:new Date(s.starts_at).getDate()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white",children:s.title}),e.jsxs(p,{variant:l.variant,size:"sm",children:[e.jsx(l.icon,{className:"h-3 w-3 -ml-0.5"}),s.type.replace("_"," ")]})]}),s.location_name&&e.jsxs("p",{className:"text-sm text-secondary-500 dark:text-secondary-400 flex items-center gap-1 mt-1",children:[e.jsx(v,{className:"h-3.5 w-3.5"}),s.location_name]}),e.jsxs("div",{className:"flex items-center flex-wrap gap-x-3 gap-y-1 mt-1",children:[e.jsx("p",{className:"text-xs text-secondary-400",children:new Date(s.starts_at).toLocaleDateString("en",{weekday:"long",hour:"2-digit",minute:"2-digit"})}),x&&e.jsxs("span",{className:"text-xs text-secondary-400 flex items-center gap-1",children:[e.jsx(M,{className:"h-3 w-3"}),x]}),s.rsvps_count!==void 0&&e.jsxs("span",{className:"text-xs text-secondary-400",children:[s.rsvps_count," attending"]})]}),s.max_attendees&&s.rsvps_count!==void 0&&e.jsx("div",{className:"mt-2",children:e.jsx(pe,{value:s.rsvps_count,max:s.max_attendees,variant:m!==null&&m<5?"warning":"primary",size:"sm",label:`${s.rsvps_count}/${s.max_attendees} spots${m!==null&&m<5?` (${m} left!)`:""}`,showLabel:!0})}),s.route_link&&e.jsxs("a",{href:s.route_link,target:"_blank",rel:"noopener noreferrer",onClick:g=>g.stopPropagation(),className:"inline-flex items-center gap-1 text-xs text-primary-600 dark:text-primary-400 hover:underline mt-2 font-medium",children:[e.jsx(Re,{className:"h-3.5 w-3.5"}),"View Route Map"]})]})]})})},s.id)}):e.jsx(o,{padding:"lg",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(z,{className:"h-12 w-12 text-secondary-300 dark:text-secondary-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white",children:"No upcoming events"}),e.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400 mt-1",children:E?"Create an event to get things started.":"Check back later for events."})]})}),e.jsx(d,{href:route("clubs.events",a.slug),className:"block text-center text-sm text-primary-600 dark:text-primary-400 hover:underline py-2",children:"View all events"})]}),b==="members"&&e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:_.map(s=>e.jsx(d,{href:s.user?.uuid?route("profile.show",s.user.uuid):"#",children:e.jsxs(o,{padding:"md",className:"text-center hover:bg-secondary-50 dark:hover:bg-secondary-700/50 transition-colors",children:[e.jsx(j,{src:s.user?.avatar,name:s.user?.display_name,size:"xl",rounded:"lg",className:"mx-auto"}),e.jsx("p",{className:"font-semibold text-sm text-secondary-900 dark:text-white mt-3 truncate",children:s.user?.display_name}),e.jsx(p,{variant:be[s.role],size:"sm",className:"mt-1",children:je[s.role]}),(s.points??0)>0&&e.jsxs("span",{className:"text-xs text-accent-500 font-semibold mt-1",children:[s.points," pts"]})]})},s.id))}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(d,{href:route("clubs.members",a.slug),className:"inline-flex items-center gap-2 px-6 py-2.5 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 rounded-xl font-semibold text-sm transition-colors hover:bg-secondary-200 dark:hover:bg-secondary-600",children:[e.jsx(w,{className:"h-5 w-5"}),"View All Members (",a.members_count??0,")"]})})]}),b==="photos"&&e.jsxs("div",{className:"max-w-4xl mx-auto",children:[y&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>I.current?.click(),className:"flex items-center gap-2 px-5 py-2.5 bg-primary-600 hover:bg-primary-500 text-white rounded-xl font-semibold text-sm transition-colors",children:[e.jsx(P,{className:"h-5 w-5"}),"Upload Photos"]}),e.jsx("input",{ref:I,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:le})]}),C.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:C.map(s=>e.jsxs("div",{className:"relative group aspect-square rounded-xl overflow-hidden",children:[e.jsx("button",{onClick:()=>F(s.path),className:"w-full h-full",children:e.jsx("img",{src:s.path,alt:s.caption||"",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),y&&e.jsx("button",{onClick:()=>{confirm("Delete this photo?")&&h.delete(route("clubs.photos.destroy",[a.slug,s.id]))},className:"absolute top-2 right-2 p-1.5 bg-black/50 hover:bg-black/70 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Y,{className:"h-4 w-4"})})]},s.id))}):e.jsx(o,{padding:"lg",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Q,{className:"h-12 w-12 text-secondary-300 dark:text-secondary-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white",children:"No photos yet"}),e.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400 mt-1",children:y?"Upload photos to showcase your club.":"No photos have been shared yet."})]})})]}),b==="about"&&e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs(o,{padding:"lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white mb-4",children:["About ",a.name]}),a.description?e.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 leading-relaxed whitespace-pre-wrap",children:a.description}):e.jsx("p",{className:"text-secondary-400 italic",children:"No description available."})]}),e.jsxs(o,{padding:"lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white mb-4",children:"Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary-100 dark:bg-secondary-700 flex items-center justify-center flex-shrink-0",children:e.jsx(u.icon,{className:"h-5 w-5 text-secondary-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-secondary-900 dark:text-white text-sm",children:u.label}),e.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:u.desc})]})]}),a.city&&e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary-100 dark:bg-secondary-700 flex items-center justify-center flex-shrink-0",children:e.jsx(v,{className:"h-5 w-5 text-secondary-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-secondary-900 dark:text-white text-sm",children:"Location"}),e.jsxs("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:[a.city,a.province?`, ${a.province}`:""]})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary-100 dark:bg-secondary-700 flex items-center justify-center flex-shrink-0",children:e.jsx(M,{className:"h-5 w-5 text-secondary-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-secondary-900 dark:text-white text-sm",children:"Created"}),e.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:new Date(a.created_at).toLocaleDateString("en",{month:"long",day:"numeric",year:"numeric"})})]})]}),a.owner&&e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary-100 dark:bg-secondary-700 flex items-center justify-center flex-shrink-0",children:e.jsx(w,{className:"h-5 w-5 text-secondary-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-secondary-900 dark:text-white text-sm",children:"Founded by"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(j,{src:a.owner.avatar,name:a.owner.display_name,size:"xs"}),e.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:a.owner.display_name})]})]})]}),a.is_premium&&e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent-100 dark:bg-accent-900/30 flex items-center justify-center flex-shrink-0",children:e.jsx(Z,{className:"h-5 w-5 text-accent-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-secondary-900 dark:text-white text-sm",children:"Pro Club"}),e.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"This club has premium features enabled"})]})]})]})]}),a.is_premium&&R&&e.jsx(o,{padding:"lg",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center flex-shrink-0",children:e.jsx(Ae,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white text-sm",children:"Club Chat"}),e.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"Chat with other members in real-time"})]}),e.jsx(d,{href:route("clubs.chat",a.slug),className:"px-4 py-2 bg-primary-600 hover:bg-primary-500 text-white rounded-xl text-sm font-semibold transition-colors",children:"Open Chat"})]})})]})]})]}),B&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:()=>F(null),children:[e.jsx("button",{className:"absolute top-4 right-4 p-2 text-white/80 hover:text-white transition-colors",onClick:()=>F(null),children:e.jsx(ye,{className:"h-8 w-8"})}),e.jsx("img",{src:B,alt:"",className:"max-w-full max-h-[90vh] object-contain rounded-lg",onClick:s=>s.stopPropagation()})]})]})}function ze(a){const r=new Date(a),n=Math.floor((new Date().getTime()-r.getTime())/1e3);return n<60?"Just now":n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:n<604800?`${Math.floor(n/86400)}d ago`:r.toLocaleDateString("en",{month:"short",day:"numeric"})}export{js as default};
