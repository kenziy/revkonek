import{r as s,j as r,H as k,L as c,a as d}from"./app-CQdR452s.js";import{A as w}from"./AuthenticatedLayout-HhmBnaNo.js";import{C as p,A as y,B as u}from"./ProgressBar-CmNWRyn6.js";import{C as l,a as x,b as _}from"./club-PCsiz4C8.js";import{F as N}from"./ArrowLeftIcon-DH5-a9EN.js";import{F as R}from"./TrashIcon-o4tWhs-E.js";import"./clsx-B-dksMZM.js";import"./transition-fQBJqPoi.js";import"./use-sync-refs-TvPC7Lcg.js";import"./ThemeToggle-C9625XrB.js";import"./Footer-C1bh1EIQ.js";import"./UserGroupIcon-CBBpCl-6.js";import"./ShieldCheckIcon-DI5QGzMO.js";import"./ExclamationTriangleIcon-Yz6WaA5o.js";import"./CheckCircleIcon-CrWjMXvP.js";function L({title:t,titleId:o,...a},i){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":o},a),t?s.createElement("title",{id:o},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"}))}const M=s.forwardRef(L);function C({title:t,titleId:o,...a},i){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":o},a),t?s.createElement("title",{id:o},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const E=s.forwardRef(C);function B({title:t,titleId:o,...a},i){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":o},a),t?s.createElement("title",{id:o},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const A=s.forwardRef(B);function G({club:t,members:o,membership:a,ownerId:i}){const h=a?l[a.role]:99,m=a&&(a.role==="president"||a.role==="vice_president"),f=a&&a.role!=="member",g=e=>{const n=l[e];return Object.keys(l).filter(v=>l[v]>n)},j=e=>!f||e.user_id===i?!1:l[e.role]>h;return r.jsxs(w,{header:`${t.name} â€” Members`,children:[r.jsx(k,{title:`${t.name} Members`}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(c,{href:route("clubs.show",t.slug),className:"inline-flex items-center gap-1.5 text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:[r.jsx(N,{className:"h-4 w-4"}),"Back to ",t.name]}),o.data.map(e=>r.jsx(p,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(c,{href:e.user?.uuid?route("profile.show",e.user.uuid):"#",children:r.jsx(y,{name:e.user?.display_name,src:e.user?.avatar,size:"md",className:"hover:opacity-80 transition-opacity"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(c,{href:e.user?.uuid?route("profile.show",e.user.uuid):"#",className:"font-medium text-secondary-900 dark:text-white truncate hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:e.user?.display_name}),r.jsx(u,{variant:_[e.role],size:"sm",children:x[e.role]}),e.user_id===i&&r.jsx(u,{variant:"primary",size:"sm",children:"Owner"}),e.is_muted&&r.jsx(u,{variant:"danger",size:"sm",children:"Muted"})]}),e.joined_at&&r.jsxs("p",{className:"text-xs text-secondary-400",children:["Joined ",new Date(e.joined_at).toLocaleDateString()]})]}),j(e)&&r.jsxs("div",{className:"flex items-center gap-1",children:[m&&r.jsxs("select",{value:e.role,onChange:n=>d.put(route("clubs.members.updateRole",[t.slug,e.user_id]),{role:n.target.value}),className:"text-xs rounded border-secondary-300 dark:border-secondary-600 dark:bg-secondary-800 dark:text-white",children:[r.jsx("option",{value:e.role,children:x[e.role]}),g(a.role).filter(n=>n!==e.role).map(n=>r.jsx("option",{value:n,children:x[n]},n))]}),r.jsx("button",{onClick:()=>d.post(route(e.is_muted?"clubs.members.unmute":"clubs.members.mute",[t.slug,e.user_id])),className:"p-2 rounded-lg text-secondary-400 hover:bg-secondary-100 dark:hover:bg-secondary-700",title:e.is_muted?"Unmute":"Mute",children:e.is_muted?r.jsx(E,{className:"h-4 w-4"}):r.jsx(A,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>d.post(route("clubs.members.block",[t.slug,e.user_id])),className:"p-2 rounded-lg text-danger-400 hover:bg-danger-50 dark:hover:bg-danger-900/20",title:"Block",children:r.jsx(M,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>d.delete(route("clubs.members.remove",[t.slug,e.user_id])),className:"p-2 rounded-lg text-danger-400 hover:bg-danger-50 dark:hover:bg-danger-900/20",title:"Remove",children:r.jsx(R,{className:"h-4 w-4"})})]})]})},e.id)),o.data.length===0&&r.jsx(p,{children:r.jsx("p",{className:"text-center text-sm text-secondary-500 dark:text-secondary-400 py-8",children:"No members yet."})})]})]})}export{G as default};
