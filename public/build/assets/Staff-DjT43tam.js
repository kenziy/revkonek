import{r as i,j as e,H as p,L as r,a as n}from"./app-CQdR452s.js";import{A as x}from"./AdminLayout-CdA9hG_1.js";import{C as o,A as h,B as u}from"./ProgressBar-CmNWRyn6.js";import{E as g}from"./EmptyState-Cyh_ihlv.js";import{S as f}from"./Select-_g643YYx.js";import"./clsx-B-dksMZM.js";import"./ThemeToggle-C9625XrB.js";import"./UserGroupIcon-CBBpCl-6.js";import"./UsersIcon-C67WalTO.js";import"./SparklesIcon-B2_IIVCR.js";import"./DocumentTextIcon-DMZyM2rq.js";import"./ClipboardDocumentListIcon-ZEZdHuTT.js";import"./ArrowLeftIcon-DH5-a9EN.js";import"./ExclamationTriangleIcon-Yz6WaA5o.js";import"./CheckCircleIcon-CrWjMXvP.js";import"./PrimaryButton-B4a49jWx.js";function T({staffUsers:a,allRoles:d}){const[y,j]=i.useState(null),[v,m]=i.useState(""),l=(t,s)=>{s&&(n.post(route("admin.settings.assignRole",t),{role:s},{preserveScroll:!0}),m(""))},c=(t,s)=>{confirm(`Revoke "${s}" from this user?`)&&n.post(route("admin.settings.revokeRole",t),{role:s},{preserveScroll:!0})};return e.jsxs(x,{header:"Staff Management",children:[e.jsx(p,{title:"Admin - Staff"}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx(r,{href:route("admin.settings.index"),className:"px-4 py-2 text-sm font-medium text-secondary-600 bg-secondary-100 rounded-lg hover:bg-secondary-200 dark:bg-secondary-700 dark:text-secondary-300 dark:hover:bg-secondary-600 transition-colors",children:"App Settings"}),e.jsx(r,{href:route("admin.settings.staff"),className:"px-4 py-2 text-sm font-medium bg-primary-600 text-white rounded-lg",children:"Staff Management"}),e.jsx(r,{href:route("admin.settings.features"),className:"px-4 py-2 text-sm font-medium text-secondary-600 bg-secondary-100 rounded-lg hover:bg-secondary-200 dark:bg-secondary-700 dark:text-secondary-300 dark:hover:bg-secondary-600 transition-colors",children:"Features"})]}),a.length>0?e.jsx("div",{className:"space-y-4",children:a.map(t=>e.jsx(o,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{name:t.name,size:"md"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:t.display_name}),e.jsx("p",{className:"text-sm text-secondary-500",children:t.email})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:t.roles.map(s=>e.jsx("button",{onClick:()=>c(t.id,s),className:"group relative",title:`Click to revoke "${s}"`,children:e.jsxs(u,{variant:"primary",size:"sm",children:[s,e.jsx("span",{className:"ml-1 opacity-0 group-hover:opacity-100 transition-opacity",children:"Ã—"})]})},s))}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(f,{options:[{value:"",label:"Add role..."},...d.filter(s=>!t.roles.includes(s)).map(s=>({value:s,label:s}))],value:"",onChange:s=>l(t.id,s.target.value)})})]})]})},t.id))}):e.jsx(g,{title:"No staff members",description:"Users with admin, moderator, shop-admin, or trusted-rider roles will appear here."}),e.jsxs(o,{className:"mt-8",children:[e.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white mb-2",children:"How to add staff"}),e.jsxs("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:["To add a new staff member, go to the"," ",e.jsx(r,{href:route("admin.users.index"),className:"text-primary-600 hover:text-primary-700 dark:text-primary-400",children:"Users page"}),", find the user, and assign them a role from their profile page. They will then appear here."]})]})]})}export{T as default};
