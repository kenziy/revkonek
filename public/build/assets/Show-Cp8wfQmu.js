import{r as n,j as e,H as Z,L as r,a as c}from"./app-CQdR452s.js";import{A as W,F as v}from"./AuthenticatedLayout-HhmBnaNo.js";import{C as f,B as y,A as T,d as q}from"./ProgressBar-CmNWRyn6.js";import{c as h}from"./clsx-B-dksMZM.js";import{T as Q}from"./ThemeToggle-C9625XrB.js";import{E as g}from"./EmptyState-Cyh_ihlv.js";import{P as z}from"./ProBadge-sFMrbpXL.js";import{F as X}from"./UserCircleIcon-CrE2fA27.js";import{F as E}from"./CameraIcon-CfVEeyGL.js";import{F as N}from"./CalendarDaysIcon-D42YAsvN.js";import{F as L}from"./MapPinIcon-aMovNZRX.js";import{F as S}from"./PencilIcon-B5N8ZZFg.js";import{F as k}from"./UsersIcon-C67WalTO.js";import{F as Y}from"./HeartIcon-BskkHzZm.js";import{F as G}from"./HeartIcon-BuneMuyE.js";import{F as O}from"./WrenchScrewdriverIcon-BpEb2G6O.js";import{F as U}from"./UserGroupIcon-CBBpCl-6.js";import{F as ee}from"./SparklesIcon-B2_IIVCR.js";import"./transition-fQBJqPoi.js";import"./use-sync-refs-TvPC7Lcg.js";import"./Footer-C1bh1EIQ.js";import"./ShieldCheckIcon-DI5QGzMO.js";import"./ExclamationTriangleIcon-Yz6WaA5o.js";import"./CheckCircleIcon-CrWjMXvP.js";import"./PrimaryButton-B4a49jWx.js";import"./CheckBadgeIcon-DlBI_QHP.js";function se({title:a,titleId:l,...i},t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},i),a?n.createElement("title",{id:l},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const ae=n.forwardRef(se);function te({children:a}){return e.jsxs("div",{className:"min-h-screen bg-secondary-50 dark:bg-secondary-900 transition-colors duration-200",children:[e.jsx("header",{className:"sticky top-0 z-30 h-16 bg-white/95 dark:bg-secondary-800/95 backdrop-blur-lg border-b border-secondary-200 dark:border-secondary-700",children:e.jsxs("div",{className:"flex h-full items-center justify-between px-4 lg:px-6 max-w-7xl mx-auto",children:[e.jsxs(r,{href:"/",className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-primary-600",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"RK"})}),e.jsx("span",{className:"font-bold text-lg text-secondary-900 dark:text-white",children:"REV KONEK"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Q,{}),e.jsx(r,{href:route("login"),className:"px-4 py-2 text-sm font-semibold text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Log in"}),e.jsx(r,{href:route("register"),className:"px-4 py-2 text-sm font-semibold text-white bg-primary-600 hover:bg-primary-500 rounded-lg transition-colors",children:"Sign up"})]})]})}),e.jsx("main",{children:a})]})}function Ee({profileUser:a,vehicles:l,clubs:i,isOwner:t,isGuest:m,isFollowing:P,followers:F,followingUsers:_}){const[x,B]=n.useState("garage"),[p,D]=n.useState(P),[u,j]=n.useState(!1),C=n.useRef(null),R=n.useRef(null),I=s=>{const o=s.target.files?.[0];if(!o)return;const d=new FormData;d.append("cover_photo",o),c.post(route("profile.updateCoverPhoto"),d,{forceFormData:!0,onError:w=>{const b=Object.values(w).flat().join(" ");alert(b||"Failed to upload cover photo.")}}),s.target.value=""},K=s=>{const o=s.target.files?.[0];if(!o)return;const d=new FormData;d.append("avatar",o),c.post(route("profile.updateAvatar"),d,{forceFormData:!0,onError:w=>{const b=Object.values(w).flat().join(" ");alert(b||"Failed to upload photo.")}}),s.target.value=""},M=()=>{if(u)return;j(!0);const s=p?"profile.unfollow":"profile.follow";c.post(route(s,a.uuid),{},{preserveScroll:!0,onSuccess:()=>{D(!p),j(!1)},onError:()=>j(!1)})},V=s=>{c.post(route("vehicles.toggleLike",s),{},{preserveScroll:!0})},A=(s,o)=>{const d=o?"profile.unfollow":"profile.follow";c.post(route(d,s),{},{preserveScroll:!0})},H=[{key:"garage",label:"Garage",count:l.length},{key:"clubs",label:"Clubs",count:i.length},{key:"followers",label:"Followers",count:a.followers_count},{key:"following",label:"Following",count:a.following_count},{key:"about",label:"About"}],J=m?te:W;return e.jsxs(J,{children:[e.jsx(Z,{title:a.display_name}),e.jsxs("div",{className:m?"":"-mx-4 sm:-mx-6 lg:-mx-8 -mt-4 sm:-mt-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"h-48 sm:h-64 md:h-72 w-full overflow-visible bg-gradient-to-br from-primary-600 via-primary-700 to-primary-900",children:[e.jsx("div",{className:"h-full w-full overflow-hidden",children:a.cover_photo?e.jsx("img",{src:a.cover_photo,alt:`${a.display_name} cover`,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(X,{className:"h-16 w-16 text-white/20 mx-auto"}),t&&e.jsx("p",{className:"text-white/40 text-sm mt-2",children:"Add a cover photo"})]})})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>C.current?.click(),className:h("absolute inset-0 bottom-0 flex items-center justify-center","opacity-0 group-hover:opacity-100 transition-all"),children:e.jsxs("span",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-black/50 hover:bg-black/70 text-white text-sm font-medium backdrop-blur-sm",children:[e.jsx(E,{className:"h-4 w-4"}),a.cover_photo?"Edit Cover":"Add Cover Photo"]})}),e.jsx("input",{ref:C,type:"file",accept:"image/*",className:"hidden",onChange:I})]}),e.jsxs("div",{className:"absolute -bottom-12 sm:-bottom-14 left-1/2 -translate-x-1/2 z-20 group/avatar",children:[e.jsx("div",{className:"w-24 h-24 sm:w-28 sm:h-28 rounded-full border-4 border-white dark:border-secondary-800 shadow-lg overflow-hidden bg-white dark:bg-secondary-700",children:a.avatar?e.jsx("img",{src:a.avatar,alt:a.display_name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-white",children:a.display_name.charAt(0).toUpperCase()})})}),t&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>R.current?.click(),className:h("absolute inset-0 rounded-full flex items-center justify-center","bg-black/40 text-white transition-opacity","opacity-0 group-hover/avatar:opacity-100"),children:e.jsx(E,{className:"h-6 w-6"})}),e.jsx("input",{ref:R,type:"file",accept:"image/*",className:"hidden",onChange:K})]})]})]}),e.jsx("div",{className:"relative bg-white dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700 pt-16 sm:pt-18",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center pb-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-secondary-900 dark:text-white",children:a.display_name}),a.is_premium&&e.jsx(z,{size:"lg"})]}),a.username&&e.jsxs("p",{className:"text-secondary-500 dark:text-secondary-400 mt-0.5",children:["@",a.username]}),e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[e.jsx(N,{className:"h-4 w-4"}),e.jsxs("span",{children:["Joined ",a.member_since]})]}),(a.city||a.province)&&e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[e.jsx(L,{className:"h-4 w-4"}),[a.city,a.province].filter(Boolean).join(", ")]}),e.jsx("div",{className:"flex items-center justify-center gap-2 mt-3",children:m?e.jsx(r,{href:route("login"),className:"px-5 py-2.5 bg-primary-600 hover:bg-primary-500 text-white rounded-xl font-semibold text-sm transition-colors shadow-sm",children:"Log in to Connect"}):t?e.jsxs(r,{href:route("profile.edit"),className:"px-4 py-2.5 bg-white border border-secondary-300 text-secondary-700 dark:bg-secondary-700 dark:border-secondary-600 dark:text-secondary-300 rounded-xl font-semibold text-sm transition-colors hover:bg-secondary-50 dark:hover:bg-secondary-600 flex items-center gap-1.5 shadow-sm",children:[e.jsx(S,{className:"h-4 w-4"}),"Edit Profile"]}):e.jsx("button",{onClick:M,disabled:u,className:h("px-5 py-2.5 rounded-xl font-semibold text-sm transition-colors shadow-sm flex items-center gap-1.5",p?"bg-white border border-secondary-300 text-secondary-700 dark:bg-secondary-700 dark:border-secondary-600 dark:text-secondary-300 hover:bg-secondary-50 dark:hover:bg-secondary-600":"bg-primary-600 hover:bg-primary-500 text-white",u&&"opacity-50 cursor-not-allowed"),children:p?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"h-4 w-4"}),"Following"]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4"}),"Follow"]})})})]}),e.jsx("div",{className:"flex justify-center gap-0 -mb-px overflow-x-auto scrollbar-none",children:H.map(s=>e.jsxs("button",{onClick:()=>B(s.key),className:h("px-4 py-3 text-sm font-semibold border-b-2 transition-colors whitespace-nowrap",x===s.key?"border-primary-600 text-primary-600 dark:text-primary-400 dark:border-primary-400":"border-transparent text-secondary-500 dark:text-secondary-400 hover:text-secondary-700 dark:hover:text-secondary-300 hover:border-secondary-300"),children:[s.label,s.count!==void 0&&e.jsx("span",{className:"ml-1.5 text-xs text-secondary-400 font-normal",children:s.count})]},s.key))})]})}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-6",children:[x==="garage"&&e.jsx("div",{children:l.length===0?e.jsx(g,{icon:e.jsx(v,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"}),title:"No vehicles yet",description:t?"Add your first vehicle to showcase your ride.":"This rider hasn't added any vehicles yet.",action:t?{label:"Add Vehicle",onClick:()=>c.visit(route("vehicles.create"))}:void 0}):e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(s=>e.jsxs(f,{padding:"none",className:"overflow-hidden hover:shadow-md transition-shadow",children:[e.jsx(r,{href:route("vehicles.show",s.uuid),children:e.jsx("div",{className:"aspect-[4/3] bg-secondary-100 dark:bg-secondary-700 overflow-hidden relative",children:s.photo?e.jsx("img",{src:s.photo,alt:s.displayName,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(v,{className:"h-12 w-12 text-secondary-300 dark:text-secondary-500"})})})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white truncate",children:s.displayName}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[s.engineSpec&&e.jsx("span",{children:s.engineSpec}),s.engineSpec&&s.color&&e.jsx("span",{className:"text-secondary-300",children:"·"}),s.color&&e.jsx("span",{children:s.color})]})]}),!m&&e.jsxs("button",{onClick:o=>{o.preventDefault(),V(s.uuid)},className:"flex items-center gap-1 text-sm shrink-0 group/heart",children:[s.isLiked?e.jsx(Y,{className:"h-5 w-5 text-red-500"}):e.jsx(G,{className:"h-5 w-5 text-secondary-400 group-hover/heart:text-red-500 transition-colors"}),s.likesCount>0&&e.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:s.likesCount})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[s.category&&e.jsx(y,{variant:"primary",size:"sm",children:s.category}),s.modificationLevel&&s.modificationLevel!=="stock"&&e.jsxs(y,{variant:"secondary",size:"sm",children:[e.jsx(O,{className:"h-3 w-3 -ml-0.5"}),s.modificationLevel]})]})]})]},s.uuid))})}),x==="clubs"&&e.jsx("div",{children:i.length===0?e.jsx(g,{icon:e.jsx(U,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"}),title:"No clubs yet",description:t?"Join a club to connect with other riders.":"This rider hasn't joined any clubs yet.",action:t?{label:"Browse Clubs",onClick:()=>c.visit(route("clubs.index"))}:void 0}):e.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:i.map(s=>e.jsx(r,{href:route("clubs.show",s.slug),children:e.jsx(f,{padding:"lg",className:"hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(T,{src:s.avatar,name:s.name,size:"lg"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white truncate",children:s.name}),s.is_premium&&e.jsxs(y,{variant:"warning",size:"sm",children:[e.jsx(ee,{className:"h-3 w-3 -ml-0.5"}),"PRO"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[e.jsxs("span",{children:[s.members_count," members"]}),e.jsx("span",{className:"text-secondary-300",children:"·"}),e.jsx(y,{variant:"secondary",size:"sm",children:s.role})]})]})]})})},s.slug))})}),x==="followers"&&e.jsx("div",{children:F.length===0?e.jsx(g,{icon:e.jsx(k,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"}),title:"No followers yet",description:t?"Share your profile to get followers.":"This rider doesn't have any followers yet."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map(s=>e.jsx($,{user:s,isGuest:m,onFollowToggle:A},s.uuid))})}),x==="following"&&e.jsx("div",{children:_.length===0?e.jsx(g,{icon:e.jsx(k,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"}),title:"Not following anyone",description:t?"Follow other riders to see them here.":"This rider isn't following anyone yet."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(s=>e.jsx($,{user:s,isGuest:m,onFollowToggle:A},s.uuid))})}),x==="about"&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.jsxs(f,{padding:"lg",children:[e.jsxs("h3",{className:"font-semibold text-secondary-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5 text-secondary-400"}),"About"]}),a.bio?e.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 leading-relaxed",children:a.bio}):e.jsx("p",{className:"text-sm text-secondary-400 italic",children:t?"Add a bio to tell others about yourself.":"No bio yet."}),e.jsxs("div",{className:"mt-4 space-y-3",children:[(a.city||a.province)&&e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(L,{className:"h-4 w-4 text-secondary-400 flex-shrink-0"}),e.jsx("span",{className:"text-secondary-700 dark:text-secondary-300",children:[a.city,a.province].filter(Boolean).join(", ")})]}),a.riding_style&&e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(v,{className:"h-4 w-4 text-secondary-400 flex-shrink-0"}),e.jsxs("span",{className:"text-secondary-700 dark:text-secondary-300 capitalize",children:[a.riding_style," rider"]})]}),a.riding_experience_years!==void 0&&a.riding_experience_years>0&&e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(N,{className:"h-4 w-4 text-secondary-400 flex-shrink-0"}),e.jsxs("span",{className:"text-secondary-700 dark:text-secondary-300",children:[a.riding_experience_years," ",a.riding_experience_years===1?"year":"years"," riding"]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(N,{className:"h-4 w-4 text-secondary-400 flex-shrink-0"}),e.jsxs("span",{className:"text-secondary-700 dark:text-secondary-300",children:["Member since ",a.member_since]})]})]}),t&&e.jsxs(r,{href:route("profile.edit"),className:"mt-4 inline-flex items-center gap-1.5 text-sm text-primary-600 dark:text-primary-400 hover:underline",children:[e.jsx(S,{className:"h-4 w-4"}),"Edit Profile"]})]})})]})]})]})}function $({user:a,isGuest:l,onFollowToggle:i}){return e.jsx(f,{padding:"lg",className:"hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex flex-col items-center text-center gap-3",children:[e.jsx(r,{href:route("profile.show",a.uuid),children:e.jsx(T,{src:a.avatar,name:a.display_name,size:"xl"})}),e.jsxs("div",{className:"min-w-0 w-full",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[e.jsx(r,{href:route("profile.show",a.uuid),className:"font-semibold text-secondary-900 dark:text-white truncate hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:a.display_name}),a.is_premium&&e.jsx(z,{size:"sm"})]}),a.username&&e.jsxs("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:["@",a.username]})]}),!l&&!a.isOwn&&e.jsx("button",{onClick:()=>i(a.uuid,a.isFollowing),className:h("w-full px-4 py-2 rounded-lg font-semibold text-sm transition-colors",a.isFollowing?"bg-white border border-secondary-300 text-secondary-700 dark:bg-secondary-700 dark:border-secondary-600 dark:text-secondary-300 hover:bg-secondary-50 dark:hover:bg-secondary-600":"bg-primary-600 hover:bg-primary-500 text-white"),children:a.isFollowing?"Following":"Follow"})]})})}export{Ee as default};
