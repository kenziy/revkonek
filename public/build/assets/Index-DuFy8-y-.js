import{r as a,j as e,H as F,L as w,b as L}from"./app-D88tLSm9.js";import{A,c as N,F as T}from"./AuthenticatedLayout-CML75vku.js";import{C as c,S as M,B as k}from"./ProgressBar-BBpyGWGO.js";import{c as d}from"./clsx-B-dksMZM.js";import{E as R}from"./EmptyState-BYA-8idt.js";import{P as V}from"./PrimaryButton-DvmSZHph.js";import{S as E}from"./SecondaryButton-lJ0hrUth.js";import{F as B}from"./MapPinIcon-CzX78ZVp.js";import{F as H}from"./StarIcon-CbSqja0t.js";import"./transition-DJz0ufxq.js";import"./ThemeToggle-88hddeof.js";import"./ExclamationTriangleIcon-DfQTTYBE.js";import"./CheckCircleIcon-iTHmfw7z.js";function $({title:n,titleId:l,...o},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":l},o),n?a.createElement("title",{id:l},n):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const z=a.forwardRef($);function Z({vehicles:n=[],allVehicles:l=[],myVehicles:o=[],vehicleTypes:i=[],isLookingForMatch:P=!1}){const[s,y]=a.useState(""),[m,v]=a.useState(!1),[t,g]=a.useState(null),[u,b]=a.useState(null),x=n.filter(r=>{const h=r.displayName.toLowerCase().includes(s.toLowerCase())||r.owner.name.toLowerCase().includes(s.toLowerCase())||r.category?.toLowerCase().includes(s.toLowerCase()),p=!t||r.vehicleType===t;return h&&p}),f=l.filter(r=>{const h=r.displayName.toLowerCase().includes(s.toLowerCase())||r.owner.name.toLowerCase().includes(s.toLowerCase())||r.category?.toLowerCase().includes(s.toLowerCase()),p=!t||r.vehicleType===t;return h&&p}),j=x.length>0?x:f,C=x.length===0&&f.length>0&&!s,S=r=>{b(r),L.post(route("match.toggleVehicleStatus",r),{},{preserveScroll:!0,onFinish:()=>b(null)})};return e.jsxs(A,{header:"Find Riders",children:[e.jsx(F,{title:"Find Riders"}),e.jsxs("div",{className:"space-y-4",children:[o.length>0&&e.jsxs(c,{children:[e.jsx("h3",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-3",children:"My Vehicles"}),e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:o.map(r=>e.jsxs("div",{className:d("flex-shrink-0 p-3 rounded-xl border-2 min-w-[160px] transition-colors",r.isAvailableForMatch?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-secondary-200 dark:border-secondary-700"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-secondary-100 dark:bg-secondary-800 flex items-center justify-center overflow-hidden flex-shrink-0",children:r.photo?e.jsx("img",{src:r.photo,alt:r.displayName,className:"w-full h-full object-cover"}):e.jsx(N,{className:"h-6 w-6 text-secondary-400"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium text-sm text-secondary-900 dark:text-white truncate",children:r.displayName}),e.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:r.engineSpec})]})]}),e.jsx("button",{onClick:()=>S(r.id),disabled:u===r.id,className:d("mt-3 w-full py-1.5 px-3 rounded-lg text-xs font-medium transition-colors",r.isAvailableForMatch?"bg-primary-600 text-white hover:bg-primary-700":"bg-secondary-100 dark:bg-secondary-800 text-secondary-600 dark:text-secondary-400 hover:bg-secondary-200 dark:hover:bg-secondary-700"),children:u===r.id?"...":r.isAvailableForMatch?"Available":"Not Available"})]},r.id))}),o.length===0&&e.jsxs("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[e.jsx(w,{href:route("vehicles.create"),className:"text-primary-600 hover:text-primary-500",children:"Add a vehicle"})," ","to start matching with other riders."]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(M,{value:s,onChange:r=>y(r.target.value),onClear:()=>y(""),placeholder:"Search vehicles or riders...",className:"flex-1"}),e.jsx("button",{onClick:()=>v(!m),className:d("flex items-center justify-center w-12 h-12 rounded-xl","border transition-colors",m?"bg-primary-50 border-primary-500 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400":"border-secondary-200 dark:border-secondary-700 text-secondary-500 hover:bg-secondary-50 dark:hover:bg-secondary-800"),children:e.jsx(z,{className:"h-5 w-5"})})]}),m&&e.jsx(c,{className:"animate-slide-down",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Distance"}),e.jsx("div",{className:"flex gap-2",children:["5km","10km","25km","50km"].map(r=>e.jsx("button",{className:"px-3 py-1.5 text-sm rounded-lg border border-secondary-200 dark:border-secondary-700 hover:bg-secondary-50 dark:hover:bg-secondary-800",children:r},r))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Vehicle Type"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>g(null),className:d("px-3 py-1.5 text-sm rounded-lg border transition-colors",t?"border-secondary-200 dark:border-secondary-700 hover:bg-secondary-50 dark:hover:bg-secondary-800":"border-primary-500 bg-primary-50 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400"),children:"All"}),i.map(r=>e.jsx("button",{onClick:()=>g(r.slug),className:d("px-3 py-1.5 text-sm rounded-lg border transition-colors",t===r.slug?"border-primary-500 bg-primary-50 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400":"border-secondary-200 dark:border-secondary-700 hover:bg-secondary-50 dark:hover:bg-secondary-800"),children:r.name},r.slug))]})]})]})}),C&&e.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-800 rounded-xl p-3 text-sm text-primary-700 dark:text-primary-300",children:"No vehicles currently available for match. Showing all vehicles."}),j.length>0?e.jsx("div",{className:"space-y-3",children:j.map(r=>e.jsx(c,{hoverable:!0,children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"w-24 h-24 sm:w-32 sm:h-24 rounded-xl bg-secondary-100 dark:bg-secondary-800 flex-shrink-0 overflow-hidden relative",children:[r.photo?e.jsx("img",{src:r.photo,alt:r.displayName,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(N,{className:"h-10 w-10 text-secondary-300 dark:text-secondary-600"})}),e.jsx(k,{variant:r.vehicleType==="bike"?"primary":"info",size:"sm",className:"absolute top-1 left-1",children:r.vehicleTypeName})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white",children:r.displayName}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-secondary-500 dark:text-secondary-400",children:[r.engineSpec&&e.jsx("span",{children:r.engineSpec}),r.category&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:r.category})]})]})]}),r.isAvailableForMatch&&e.jsx(k,{variant:"success",size:"sm",dot:!0,children:"Ready"})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-secondary-100 dark:border-secondary-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-300",children:r.owner.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-secondary-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"h-3.5 w-3.5"}),r.distance]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(H,{className:"h-3.5 w-3.5 text-accent-500"}),r.owner.rating.toFixed(1)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"h-3.5 w-3.5"}),r.owner.wins," wins"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{className:"text-xs px-3 py-1.5",children:"Challenge"}),e.jsx(w,{href:route("vehicles.show",r.id),children:e.jsx(E,{className:"text-xs px-3 py-1.5",children:"View"})})]})]})})]})]})},r.id))}):e.jsx(c,{children:e.jsx(R,{icon:"search",title:"No vehicles found",description:s?"Try adjusting your search or filters":"No vehicles are currently available for matching"})})]})]})}export{Z as default};
