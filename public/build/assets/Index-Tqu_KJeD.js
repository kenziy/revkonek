import{r as d,j as e,H as p,L as l,a as h}from"./app-CQdR452s.js";import{A as u,F as y}from"./AdminLayout-CdA9hG_1.js";import{F as c,S as j,C as v,B as g}from"./ProgressBar-CmNWRyn6.js";import{S as s}from"./StatCard-B-cWyVmN.js";import{P as f}from"./Pagination-3WXCkDOi.js";import{S as N}from"./Select-_g643YYx.js";import{F as w}from"./CheckCircleIcon-CrWjMXvP.js";import{F as o}from"./ClockIcon-fa_Gy2Ss.js";import{F as m}from"./CurrencyDollarIcon-BBARPKui.js";import"./clsx-B-dksMZM.js";import"./ThemeToggle-C9625XrB.js";import"./UserGroupIcon-CBBpCl-6.js";import"./UsersIcon-C67WalTO.js";import"./SparklesIcon-B2_IIVCR.js";import"./DocumentTextIcon-DMZyM2rq.js";import"./ClipboardDocumentListIcon-ZEZdHuTT.js";import"./ArrowLeftIcon-DH5-a9EN.js";import"./ExclamationTriangleIcon-Yz6WaA5o.js";function k({title:t,titleId:r,...n},i){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),t?d.createElement("title",{id:r},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z"}))}const b=d.forwardRef(k),S={active:"success",cancelled:"danger",expired:"secondary",past_due:"warning",trialing:"primary",pending_verification:"warning",rejected:"danger"},R={active:"Active",cancelled:"Cancelled",expired:"Expired",past_due:"Past Due",trialing:"Trialing",pending_verification:"Pending",rejected:"Rejected"};function W({stats:t,subscriptions:r,filters:n}){const i=(a,x)=>{h.get(route("admin.subscriptions.index"),{...n,[a]:x||void 0},{preserveState:!0})};return e.jsxs(u,{header:"Subscriptions",children:[e.jsx(p,{title:"Admin - Subscriptions"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-7 gap-4 mb-8",children:[e.jsx(s,{title:"Active",value:t.totalActive,icon:e.jsx(w,{className:"h-5 w-5"}),variant:"success"}),e.jsx(s,{title:"Pending",value:t.totalPending,icon:e.jsx(o,{className:"h-5 w-5"}),variant:"warning"}),e.jsx(s,{title:"Trialing",value:t.totalTrialing,icon:e.jsx(o,{className:"h-5 w-5"}),variant:"primary"}),e.jsx(s,{title:"Rejected",value:t.totalRejected,icon:e.jsx(c,{className:"h-5 w-5"}),variant:"danger"}),e.jsx(s,{title:"Cancelled",value:t.totalCancelled,icon:e.jsx(c,{className:"h-5 w-5"})}),e.jsx(s,{title:"Expired",value:t.totalExpired,icon:e.jsx(y,{className:"h-5 w-5"})}),e.jsx(s,{title:"Revenue",value:`₱${Number(t.totalRevenue).toLocaleString()}`,icon:e.jsx(m,{className:"h-5 w-5"}),variant:"success"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{value:n.search||"",onChange:a=>i("search",a.target.value),placeholder:"Search users..."}),e.jsx(N,{options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"pending_verification",label:"Pending"},{value:"rejected",label:"Rejected"},{value:"cancelled",label:"Cancelled"},{value:"expired",label:"Expired"},{value:"trialing",label:"Trialing"}],value:n.status||"",onChange:a=>i("status",a.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(l,{href:route("admin.subscriptions.coupons"),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-primary-600 bg-primary-50 rounded-lg hover:bg-primary-100 dark:bg-primary-900/20 dark:text-primary-400 transition-colors",children:[e.jsx(b,{className:"h-4 w-4"}),"Coupons"]}),e.jsxs(l,{href:route("admin.subscriptions.plans"),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 transition-colors",children:[e.jsx(m,{className:"h-4 w-4"}),"Manage Plans"]})]})]}),e.jsxs(v,{padding:"none",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-secondary-200 dark:border-secondary-700",children:[e.jsx("th",{className:"text-left px-4 py-3 font-medium text-secondary-600 dark:text-secondary-400",children:"User"}),e.jsx("th",{className:"text-left px-4 py-3 font-medium text-secondary-600 dark:text-secondary-400",children:"Plan"}),e.jsx("th",{className:"text-left px-4 py-3 font-medium text-secondary-600 dark:text-secondary-400",children:"Status"}),e.jsx("th",{className:"text-left px-4 py-3 font-medium text-secondary-600 dark:text-secondary-400",children:"Amount"}),e.jsx("th",{className:"text-left px-4 py-3 font-medium text-secondary-600 dark:text-secondary-400",children:"Started"}),e.jsx("th",{className:"text-left px-4 py-3 font-medium text-secondary-600 dark:text-secondary-400",children:"Ends"}),e.jsx("th",{className:"text-right px-4 py-3 font-medium text-secondary-600 dark:text-secondary-400",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-secondary-100 dark:divide-secondary-700",children:r.data.map(a=>e.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800/50",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:a.user_name||"N/A"}),e.jsx("p",{className:"text-xs text-secondary-500",children:a.user_email})]}),e.jsx("td",{className:"px-4 py-3 text-secondary-700 dark:text-secondary-300",children:a.plan_name||"N/A"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(g,{variant:S[a.status]||"secondary",size:"sm",children:R[a.status]||a.status})}),e.jsx("td",{className:"px-4 py-3 text-secondary-700 dark:text-secondary-300",children:a.amount?`₱${Number(a.amount).toLocaleString()}`:"—"}),e.jsx("td",{className:"px-4 py-3 text-secondary-600 dark:text-secondary-400",children:a.starts_at?new Date(a.starts_at).toLocaleDateString():"—"}),e.jsx("td",{className:"px-4 py-3 text-secondary-600 dark:text-secondary-400",children:a.ends_at?new Date(a.ends_at).toLocaleDateString():"—"}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsx(l,{href:route("admin.subscriptions.show",a.id),className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 text-sm font-medium",children:"View"})})]},a.id))})]})}),e.jsx(f,{links:r.links,from:r.from,to:r.to,total:r.total})]})]})}export{W as default};
