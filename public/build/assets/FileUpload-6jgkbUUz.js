import{r as a,j as r}from"./app-D88tLSm9.js";import{c as N}from"./clsx-B-dksMZM.js";import{c as E}from"./ProgressBar-BBpyGWGO.js";function $({title:n,titleId:o,...l},c){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":o},l),n?a.createElement("title",{id:o},n):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const B=a.forwardRef($);function W({title:n,titleId:o,...l},c){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":o},l),n?a.createElement("title",{id:o},n):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Z=a.forwardRef(W);function H({accept:n="image/*",multiple:o=!1,maxSize:l=5*1024*1024,onChange:c,preview:h=!0,disabled:m=!1,error:F,className:D}){const y=a.useRef(null),[p,v]=a.useState([]),[u,w]=a.useState([]),[R,g]=a.useState(!1),[A,j]=a.useState(null),b=e=>{if(!e)return;const t=[],i=[];if(Array.from(e).forEach(s=>{if(s.size>l){j(`File "${s.name}" exceeds ${l/1024/1024}MB limit`);return}if(t.push(s),h&&s.type.startsWith("image/")){const d=new FileReader;d.onload=P=>{i.push(P.target?.result),i.length===t.filter(M=>M.type.startsWith("image/")).length&&w(o?[...u,...i]:i)},d.readAsDataURL(s)}}),t.length>0){j(null);const s=o?[...p,...t]:t;v(s),c(s)}},C=e=>{b(e.target.files)},f=e=>{e.preventDefault(),e.stopPropagation(),e.type==="dragenter"||e.type==="dragover"?g(!0):e.type==="dragleave"&&g(!1)},L=e=>{e.preventDefault(),e.stopPropagation(),g(!1),b(e.dataTransfer.files)},k=e=>{const t=p.filter((s,d)=>d!==e),i=u.filter((s,d)=>d!==e);v(t),w(i),c(t)},x=F||A;return r.jsxs("div",{className:D,children:[r.jsxs("div",{onClick:()=>!m&&y.current?.click(),onDragEnter:f,onDragLeave:f,onDragOver:f,onDrop:m?void 0:L,className:N("relative flex flex-col items-center justify-center p-6 rounded-xl border-2 border-dashed","transition-colors duration-200 cursor-pointer",R?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":["border-secondary-300 dark:border-secondary-600","hover:border-primary-400 hover:bg-secondary-50","dark:hover:bg-secondary-800/50"],m&&"opacity-50 cursor-not-allowed",x&&"border-danger-500"),children:[r.jsx(B,{className:"h-10 w-10 text-secondary-400 mb-3"}),r.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Drop files here or click to upload"}),r.jsxs("p",{className:"text-xs text-secondary-500 mt-1",children:["Max size: ",l/1024/1024,"MB"]}),r.jsx("input",{ref:y,type:"file",accept:n,multiple:o,onChange:C,disabled:m,className:"hidden"})]}),x&&r.jsx("p",{className:"mt-2 text-sm text-danger-600 dark:text-danger-400",children:x}),h&&u.length>0&&r.jsx("div",{className:"mt-4 grid grid-cols-3 gap-3",children:u.map((e,t)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:e,alt:`Preview ${t+1}`,className:"h-24 w-full object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:()=>k(t),className:N("absolute top-1 right-1 p-1 rounded-full","bg-black/50 text-white","opacity-0 group-hover:opacity-100","transition-opacity duration-200"),children:r.jsx(E,{className:"h-4 w-4"})})]},t))}),!h&&p.length>0&&r.jsx("ul",{className:"mt-4 space-y-2",children:p.map((e,t)=>r.jsxs("li",{className:"flex items-center justify-between p-2 rounded-lg bg-secondary-50 dark:bg-secondary-800",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Z,{className:"h-5 w-5 text-secondary-400"}),r.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300 truncate max-w-[200px]",children:e.name})]}),r.jsx("button",{type:"button",onClick:()=>k(t),className:"p-1 text-secondary-400 hover:text-danger-500",children:r.jsx(E,{className:"h-4 w-4"})})]},t))})]})}export{H as F};
