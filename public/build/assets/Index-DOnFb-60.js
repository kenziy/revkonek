import{r as t,j as e,H as p,L as h}from"./app-D88tLSm9.js";import{A as v,g as w}from"./AuthenticatedLayout-CML75vku.js";import{S as N,T as r,C as o,B as d}from"./ProgressBar-BBpyGWGO.js";import{E as u}from"./EmptyState-BYA-8idt.js";import{F as y}from"./StarIcon-CbSqja0t.js";import{F as g}from"./MapPinIcon-CzX78ZVp.js";import{F as k}from"./WrenchScrewdriverIcon-BrDUSct9.js";import"./clsx-B-dksMZM.js";import"./transition-DJz0ufxq.js";import"./ThemeToggle-88hddeof.js";import"./ExclamationTriangleIcon-DfQTTYBE.js";import"./CheckCircleIcon-iTHmfw7z.js";import"./PrimaryButton-DvmSZHph.js";function b({title:c,titleId:i,...a},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":i},a),c?t.createElement("title",{id:i},c):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const f=t.forwardRef(b);function $({shops:c=[],listings:i=[]}){const[a,l]=t.useState(""),m=c.filter(s=>s.name.toLowerCase().includes(a.toLowerCase())||s.categories.some(n=>n.toLowerCase().includes(a.toLowerCase()))),x=i.filter(s=>s.title.toLowerCase().includes(a.toLowerCase())),j=s=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(s);return e.jsxs(v,{header:"Shop",children:[e.jsx(p,{title:"Shop"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(N,{value:a,onChange:s=>l(s.target.value),onClear:()=>l(""),placeholder:"Search shops or parts..."}),e.jsxs(r,{defaultValue:"shops",children:[e.jsxs(r.List,{fullWidth:!0,children:[e.jsx(r.Trigger,{value:"shops",children:"Shops"}),e.jsx(r.Trigger,{value:"marketplace",children:"Marketplace"})]}),e.jsx(r.Content,{value:"shops",className:"mt-4",children:m.length>0?e.jsx("div",{className:"space-y-3",children:m.map(s=>e.jsx(h,{href:route("shop.show",s.id),children:e.jsx(o,{hoverable:!0,children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:s.photo?e.jsx("img",{src:s.photo,alt:s.name,className:"w-20 h-20 rounded-xl object-cover"}):e.jsx("div",{className:"w-20 h-20 rounded-xl bg-secondary-100 dark:bg-secondary-800 flex items-center justify-center",children:e.jsx(f,{className:"h-8 w-8 text-secondary-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white truncate",children:s.name}),s.isVerified&&e.jsx(d,{variant:"success",size:"sm",children:"Verified"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("div",{className:"flex items-center text-accent-500",children:[e.jsx(y,{className:"h-4 w-4 fill-current"}),e.jsx("span",{className:"ml-1 text-sm font-medium",children:s.rating.toFixed(1)})]}),e.jsxs("span",{className:"text-sm text-secondary-400",children:["(",s.reviewCount," reviews)"]})]}),e.jsxs("div",{className:"flex items-center gap-1 mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[e.jsx(g,{className:"h-4 w-4"}),s.location," â€¢ ",s.distance]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:s.categories.slice(0,3).map(n=>e.jsx(d,{variant:"secondary",size:"sm",children:n},n))})]})]})})},s.id))}):e.jsx(o,{children:e.jsx(u,{icon:e.jsx(f,{className:"h-8 w-8"}),title:"No shops found",description:"Try adjusting your search or check back later"})})}),e.jsx(r.Content,{value:"marketplace",className:"mt-4",children:x.length>0?e.jsx("div",{className:"grid grid-cols-2 gap-3",children:x.map(s=>e.jsx(h,{href:route("shop.listing",s.id),children:e.jsxs(o,{hoverable:!0,padding:"none",className:"overflow-hidden",children:[e.jsxs("div",{className:"aspect-square bg-secondary-100 dark:bg-secondary-800 relative",children:[s.photo?e.jsx("img",{src:s.photo,alt:s.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(k,{className:"h-10 w-10 text-secondary-300 dark:text-secondary-600"})}),e.jsx(d,{variant:s.condition==="new"?"success":s.condition==="refurbished"?"info":"secondary",size:"sm",className:"absolute top-2 left-2",children:s.condition})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-sm text-secondary-900 dark:text-white line-clamp-2",children:s.title}),e.jsx("p",{className:"text-primary-600 dark:text-primary-400 font-bold mt-1",children:j(s.price)}),e.jsx("p",{className:"text-xs text-secondary-400 mt-1",children:s.location})]})]})},s.id))}):e.jsx(o,{children:e.jsx(u,{icon:e.jsx(w,{className:"h-8 w-8"}),title:"No listings found",description:"Try adjusting your search or check back later"})})})]})]})]})}export{$ as default};
