import{r as p,j as e,H as k,a as v}from"./app-CQdR452s.js";import{A as w}from"./AdminLayout-CdA9hG_1.js";import{C as b,B as C}from"./ProgressBar-CmNWRyn6.js";import{T as x}from"./TextInput-CTcTAe8k.js";import{I as n}from"./InputLabel-DYD7MSJ0.js";import{I as o}from"./InputError-Ci_EFXX7.js";import{S as F}from"./Select-_g643YYx.js";import{F as S}from"./PlusIcon-rZs8nMvI.js";import{F as P}from"./PencilIcon-B5N8ZZFg.js";import{F as _}from"./TrashIcon-o4tWhs-E.js";import"./clsx-B-dksMZM.js";import"./ThemeToggle-C9625XrB.js";import"./UserGroupIcon-CBBpCl-6.js";import"./UsersIcon-C67WalTO.js";import"./SparklesIcon-B2_IIVCR.js";import"./DocumentTextIcon-DMZyM2rq.js";import"./ClipboardDocumentListIcon-ZEZdHuTT.js";import"./ArrowLeftIcon-DH5-a9EN.js";import"./ExclamationTriangleIcon-Yz6WaA5o.js";import"./CheckCircleIcon-CrWjMXvP.js";function E({plan:t,onCancel:c}){const[a,l]=p.useState(()=>({name:t?.name??"",slug:t?.slug??"",description:t?.description??"",price:t?.price!=null?String(t.price):"",currency:t?.currency??"PHP",billing_period:t?.billing_period??"monthly",features:Array.isArray(t?.features)?t.features.join(`
`):"",is_active:t?.is_active??!0})),[d,m]=p.useState(!1),[i,g]=p.useState({}),s=(r,u)=>{l(j=>({...j,[r]:u}))},h=r=>{r.preventDefault();const u={...a,price:parseFloat(a.price)||0,features:a.features.split(`
`).map(f=>f.trim()).filter(Boolean)};m(!0);const j=t?"put":"post",N=t?route("admin.subscriptions.plans.update",t.id):route("admin.subscriptions.plans.store");v[j](N,u,{onSuccess:()=>{m(!1),c()},onError:f=>{m(!1),g(f)}})},y=r=>{l(u=>({...u,name:r,...t?{}:{slug:r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}}))};return e.jsxs(b,{children:[e.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white mb-4",children:t?"Edit Plan":"Create New Plan"}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",value:"Plan Name"}),e.jsx(x,{id:"name",value:a.name,onChange:r=>y(r.target.value),className:"mt-1"}),e.jsx(o,{message:i.name,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"slug",value:"Slug"}),e.jsx(x,{id:"slug",value:a.slug,onChange:r=>s("slug",r.target.value),className:"mt-1"}),e.jsx(o,{message:i.slug,className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"description",value:"Description"}),e.jsx(x,{id:"description",value:a.description,onChange:r=>s("description",r.target.value),className:"mt-1"}),e.jsx(o,{message:i.description,className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"price",value:"Price"}),e.jsx(x,{id:"price",type:"number",step:"0.01",min:"0",value:a.price,onChange:r=>s("price",r.target.value),className:"mt-1"}),e.jsx(o,{message:i.price,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"currency",value:"Currency"}),e.jsx(x,{id:"currency",value:a.currency,onChange:r=>s("currency",r.target.value),maxLength:3,className:"mt-1"}),e.jsx(o,{message:i.currency,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"billing_period",value:"Billing Period"}),e.jsx(F,{id:"billing_period",options:[{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}],value:a.billing_period,onChange:r=>s("billing_period",r.target.value),className:"mt-1"}),e.jsx(o,{message:i.billing_period,className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"features",value:"Features (one per line)"}),e.jsx("textarea",{id:"features",value:a.features,onChange:r=>s("features",r.target.value),rows:4,className:"mt-1 w-full rounded-lg border border-secondary-300 bg-white px-4 py-3 text-sm text-secondary-900 transition-colors focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500/20 dark:border-secondary-600 dark:bg-secondary-800 dark:text-secondary-100",placeholder:`Multi-photo gallery
Layout templates
Background music`}),e.jsx(o,{message:i.features,className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:a.is_active,onChange:r=>s("is_active",r.target.checked),className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500 dark:border-secondary-600 dark:bg-secondary-800"}),e.jsx(n,{htmlFor:"is_active",value:"Active"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{type:"button",onClick:c,className:"px-4 py-2 text-sm font-medium text-secondary-700 bg-secondary-100 rounded-lg hover:bg-secondary-200 dark:bg-secondary-700 dark:text-secondary-300 dark:hover:bg-secondary-600 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 disabled:opacity-50 transition-colors",children:d?"Saving...":t?"Update Plan":"Create Plan"})]})]})]})}function W({plans:t}){const[c,a]=p.useState(!1),[l,d]=p.useState(void 0),m=s=>{d(s),a(!0)},i=s=>{confirm(`Are you sure you want to delete the "${s.name}" plan?`)&&v.delete(route("admin.subscriptions.plans.destroy",s.id))},g=()=>{a(!1),d(void 0)};return e.jsxs(w,{header:"Subscription Plans",children:[e.jsx(k,{title:"Admin - Subscription Plans"}),e.jsxs("div",{className:"space-y-6",children:[!c&&e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 transition-colors",children:[e.jsx(S,{className:"h-4 w-4"}),"New Plan"]})}),c&&e.jsx(E,{plan:l,onCancel:g},l?.id??"new"),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[t.map(s=>e.jsxs(b,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white",children:s.name}),e.jsx("p",{className:"text-xs text-secondary-500 mt-0.5",children:s.slug})]}),e.jsx(C,{variant:s.is_active?"success":"secondary",size:"sm",children:s.is_active?"Active":"Inactive"})]}),s.description&&e.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mb-3",children:s.description}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("span",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:[s.currency," ",Number(s.price).toLocaleString()]}),e.jsxs("span",{className:"text-sm text-secondary-500 ml-1",children:["/ ",s.billing_period]})]}),s.features&&s.features.length>0&&e.jsx("ul",{className:"text-sm text-secondary-600 dark:text-secondary-400 space-y-1 mb-4",children:s.features.map((h,y)=>e.jsxs("li",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-success-500",children:"âœ“"}),h]},y))}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-secondary-100 dark:border-secondary-700",children:[e.jsxs("button",{onClick:()=>m(s),className:"flex-1 inline-flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-primary-600 bg-primary-50 rounded-lg hover:bg-primary-100 dark:bg-primary-900/20 dark:text-primary-400 transition-colors",children:[e.jsx(P,{className:"h-4 w-4"}),"Edit"]}),e.jsxs("button",{onClick:()=>i(s),className:"flex-1 inline-flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-danger-600 bg-danger-50 rounded-lg hover:bg-danger-100 dark:bg-danger-900/20 dark:text-danger-400 transition-colors",children:[e.jsx(_,{className:"h-4 w-4"}),"Delete"]})]})]},s.id)),t.length===0&&!c&&e.jsx(b,{className:"sm:col-span-2 lg:col-span-3",children:e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No subscription plans yet. Create your first plan to get started."})})})]})]})]})}export{W as default};
